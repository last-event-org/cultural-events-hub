<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Next Event: A cultural events hub</title>
  @vite(['resources/css/app.css', 'resources/js/app.js'])
  {{-- @vite(['resources/css/app.css', 'resources/js/app.js', 'resources/js/map_home.js']) --}}
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
  <link rel="shortcut icon" type="image/png" href="/favicon.png"/>

<body class=" bg-gray-50">

@include("pages/partials/header")
@include("pages/partials/intro")

<section class="relative flex flex-col items-center justify-center ">

  <div class="hidden lg:flex gap-2">
    <button title="afficher la carte"  class="open-map-button z-50 fixed top-[316px] right-2 flex items-center justify-center my-auto gap-2 border border-blue-900 rounded-full py-2 px-4 xl:ml-4 shadow bg-blue-500 cursor-pointer ">
      <svg xmlns="http://www.w3.org/2000/svg" height="20px" fill="#FFFFFF" viewBox="0 0 512 512">
        <path d="M 256 0 Q 271 1 272 16 L 272 65 L 272 65 Q 343 72 392 120 Q 440 169 447 240 L 496 240 L 496 240 Q 511 241 512 256 Q 511 271 496 272 L 447 272 L 447 272 Q 440 343 392 392 Q 343 440 272 447 L 272 496 L 272 496 Q 271 511 256 512 Q 241 511 240 496 L 240 447 L 240 447 Q 169 440 120 392 Q 72 343 65 272 L 16 272 L 16 272 Q 1 271 0 256 Q 1 241 16 240 L 65 240 L 65 240 Q 72 169 120 120 Q 169 72 240 65 L 240 16 L 240 16 Q 241 1 256 0 L 256 0 Z M 96 256 Q 96 299 117 336 L 117 336 L 117 336 Q 139 373 176 395 Q 214 416 256 416 Q 298 416 336 395 Q 373 373 395 336 Q 416 299 416 256 Q 416 213 395 176 Q 373 139 336 117 Q 298 96 256 96 Q 214 96 176 117 Q 139 139 117 176 Q 96 213 96 256 L 96 256 Z M 320 256 Q 319 220 288 201 Q 256 183 224 201 Q 193 220 192 256 Q 193 292 224 311 Q 256 329 288 311 Q 319 292 320 256 L 320 256 Z M 160 256 Q 160 230 173 208 L 173 208 L 173 208 Q 186 186 208 173 Q 231 160 256 160 Q 281 160 304 173 Q 326 186 339 208 Q 352 230 352 256 Q 352 282 339 304 Q 326 326 304 339 Q 281 352 256 352 Q 231 352 208 339 Q 186 326 173 304 Q 160 282 160 256 L 160 256 Z" />
      </svg>
      <span class="text-xs font-bold text-white">Carte</span>
    </button>
  </div>
  
  <div id="map-popup" class="hidden fixed top-0 left-0 right-0 bottom-0  justify-center items-center bg-gray-800 bg-opacity-50 z-50">
    <div class="bg-white rounded-md p-4 h-80 w-80 max-w-80 sm:h-96 sm:w-96 sm:max-w-96
    flex flex-col justify-center items-center">
      <div id="map" class="h-full w-full border shadow"></div>
      @!component('components/filters/geo_radius')
    </div>
  </div>

  
  @include("pages/partials/filter_map")
</section>

{{-- <div id="poi-list">
  poi-list: 
</div> --}}

<main>
  
  
  <div class="container mx-auto px-4">
    <div class="mb-4">
      <div class="flex items-center">
        <img src="/public/svg/logo-NE.svg" alt="Next Event logo">
        <h2 class="text-xl md:text-2xl font-bold relative">xt Events à prix réduit<span class="relative">s</span>
          <hr class="absolute -z-10 w-[128px] h-2 bottom-1.5 right-0 bg-yellow-500">
        </h2>
      </div>
    </div>
    <div class="grid gap-x-8 gap-y-4 sm:gap-y-16 lg:gap-y-12 2xl:gap-y-16 mb-20 grid-cols-[repeat(auto-fit,_minmax(280px,_1fr))]" >
      @each(event in events)
      @!component('components/events_cards', {event})
      @!component('components/events_cards', {event})
      @!component('components/events_cards', {event})
      @!component('components/events_cards', {event})
      @end
    </div>
  </div>
  
</main>
<div id="poi-list"></div>


@include("pages/partials/footer")  

<script src="resources/js/map_home.js"></script> 
<script src="/resources/js/date_format.js"></script>
<script src="/resources/js/date_picker.js"></script>
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>

{{-- <script src="/resources/js/geolocation.js" defer></script> --}}
</body>
</html>
